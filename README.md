This project was bootstrapped with [Create React App](https://github.com/facebook/create-react-app).

## Available Scripts

In the project directory, you can run:

### `npm start`

Runs the app in the development mode.<br>
Open [http://localhost:3000](http://localhost:3000) to view it in the browser.

The page will reload if you make edits.<br>
You will also see any lint errors in the console.

### `npm test`

Launches the test runner in the interactive watch mode.<br>
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

### `npm run build`

Builds the app for production to the `build` folder.<br>
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.<br>
Your app is ready to be deployed!

See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.

---

### Initial Setup

Initialize the working directory: `create-react-app {project_name}`

We need to install some core dependencies:
`npm install --save redux react-redux`

The `src/` directory should have an `index.js` that will be the landing page of the application.  Use `ReactDOM` to render to root component of the application.

The rest of the source code is located logical directories such as `actions/`, `reducers/`, `components/`, `__tests__/` etc.

 All test files should be placed in `__tests__/` directory, ideally with the suffix `.test.js`.

### Testing Setup

 [Enzyme](https://airbnb.io/enzyme/) makes testing React components [easier](https://devhints.io/enzyme). Install `enzyme` by doing `npm install --save-dev enzyme enzyme-adapter-react-16`.

 Create a `setupTests.js` file in the `src/` directory and add:
 ```javascript
 import Enzyme from 'enzyme';
 import Adapter from 'enzyme-adapter-react-16';

 Enzyme.configure({ adapter: new Adapter() });
 ```

Unit tests go inside the `__tests__` directory inside each component.

Integrations tests go inside the `__tests__` directory in the `src/` directory

### Optional step:
 Change relative imports to absolute imports.
 Create a file called `.env` in the root directory and add:
 ```bash
 NODE_PATH=src/
 ```
 This will make `src/` the default root path.

### Redux setup
 Create two folders in `src/` called `actions/` and `reducers/`.
 Each of these directories have files for actions and reducers along with an `index.js` file.

#### Reducers
 Each reducer file exports a function that takes a `state` and an `action` and returns a new state depending on the action type.
 The reducer `index.js` returns a call to `combineReducers()` which takes an object with a key and value is the reducer component.

 e.g.
 ```javascript
 import { combineReducers } from 'redux';
 import commentsReducer from 'reducers/comments'; // Name of default reducer from reducers/comments.js

 export default combineReducers({
   comments: commentsReducer
 })
```

#### Provider, Store and Middleware
To allow the application to be able to use the redux store, the root component needs to be wrapped with a redux wrapper, `Provider`.

Add the following to the root component:
```javascript
import { Provider } from 'react-redux';
import { createStore, applyMiddleware } from 'redux';
.
.
.
const store = createStore(reducers, initialState, applyMiddleware(reduxPromise));
ReactDOM.render(
  <Provider store={store}>
    <App />
  </Provider>
  , document.querySelector('div#root'));
.
.
.
```

We provide a `store` to the `<Provider />` tag which initializes the reducers and you can optionally provide an initial state and apply middlewares with the `applyMiddleWare()` function.

When perform redux testing, the virtual DOM elements generated by Enzyme also need to be wrapped inside a `<Provider />` tag and pulling out it to a separate component (for e.g. `<Root />`) should be considered. Check `src/index.js` and `src/Root.js` for more clarity.

#### Actions
Inside the `src/actions` directory, we have an `index.js` which houses all the actions and `types.js` just stores the different action types. The type mentioned in `types.js` is used by the reducer to output a new state.

Each action is a function (defined in `index.js`) that takes an argument and returns an _action_ that is an object containing kv-pairs of `type` and `payload`.

#### Wiring up React with Redux
To ensure that a component has access to the redux store, we need to connect the component to redux with the `connect` component.
```javascript
import { connect } from 'react-redux';
import * as actions from 'actions';
.
.
.
export default connect(null, actions)(CommentBox);
```

The first argument takes a `mapStateToProps` function which takes a state object and returns it as the component's `props` object.

The second argument takes the actions imported from the `actions/index.js` file.

###### If we only need to call actions, we use:
`export default connect(null, actions)(Component);`

###### If we need access to the reducer state, we use:
`export default connect(mapStateToProps)(Component);`

### Testing Redux Components:
#### Reducers
Import the action type and reducer in the test file. Create a dummy action (remember, action is just an object with a type and payload).

The reducer takes an initial state and an action and returns a new state. Perform assertions on this new state.

#### Action Creators
Import the action type and action creator in the test file. Store the result of an action creator in an object and perform assertions on this object (this object will be an action object with a type and payload).
